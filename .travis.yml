sudo: true
dist: trusty
language: python
python:
- '3.4'
- '3.5'
env:
- TOX_ENV=tan1uan5
- TOX_ENV=flake8
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-4.9
    - g++-4.9
    - python3-dev
    - libc6-dev-i386
    - linux-libc-dev
    - gcc-multilib
    - git
    - subversion
    - automake
    - libtool
    - zlib1g-dev
    - libbz2-dev
    - liblzma-dev
    - libboost-all-dev
    - libgoogle-perftools-dev
    - libxmlrpc-c++.*-dev
    - cmake
    - csh
    - libyaml-dev
    - libxslt1-dev
    - libav-tools  
    - libmp3lame0
install:
- sudo apt-get install -y libavcodec-extra-54 libx11-dev libx11-dev:i386
- pip install tox
- pip install python-coveralls
branches:
  only:
  - master
  - "/\\d+\\.\\d+\\.\\d+/"
script:
- tox -e $TOX_ENV
after_success:
- coverage report
- coveralls
